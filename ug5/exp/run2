#!/bin/sh
#chmod u+x run.sh
run1()
{
   num=$1
	name=$2
   echo " -- running ${name} -- "
	export OMP_NUMTHREADS=1
	#../bin/fscip ../settings/default.set ../../data/${name}.logreg -q -sth ${num} > ./${name}.log
	../bin/fscip ../settings/large.set ../../data/${name}.logreg -q -sth ${num} > ./${name}.log
	#../bin/fscip ../settings/noheur.set ../../data/${name}.logreg -q -sth ${num} > ./${name}.log
	#../bin/fscip ../settings/nobranch.set ../../data/${name}.logreg -q -sth ${num} > ./${name}.log
   #grep "Total Time" ${name}_LC0_T.status
   #grep "Primal Bound" ${name}_LC0_T.status
   #grep "Dual Bound" ${name}_LC0_T.status
   #grep "Gap                :" ${name}_LC0_T.status
}

run2()
{
   num=$1
	name=$2
   echo " -- running ${name} -- "
	export OMP_NUMTHREADS=1
	#../bin/fscip ../settings/default.set ../../data/${name}.logreg -q -sth ${num} > ./${name}.log
	../bin/fscip ../settings/noheur.set ../../data/${name}.logreg -q -sth ${num} > ./${name}.log
	#../bin/fscip ../settings/nobranch.set ../../data/${name}.logreg -q -sth ${num} > ./${name}.log
   #grep "Total Time" ${name}_LC0_T.status
   #grep "Primal Bound" ${name}_LC0_T.status
   #grep "Dual Bound" ${name}_LC0_T.status
   #grep "Gap                :" ${name}_LC0_T.status
}

num=$1

echo "** num of threads is $num **"
echo ""

rm -f *.prm
rm -f *.sol
rm -f *.status
rm -f *_LC0
rm -f *.log

run1 ${num} musk2
run1 ${num} madelon_train
#run2 ${num} madelon_train

#run2 ${num} musk2
